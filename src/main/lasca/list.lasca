data List a = Nil | Cons(head: a, tail: List a)

def empty(l) = match l {
    Nil -> true
    Cons(_, _) -> false
}

def foldl(self: List a, z: b, f: a -> b -> b): b = match self {
    Nil -> z
    Cons(hd, tl) -> {
        a = f(hd);
        b = foldl(tl, z, f);
        a(b)
    }
}

def length(l) = foldl(l, 0, { e -> { acc -> acc + 1 }})

def main() = {
    l = Cons("One", Nil);
    println("Hello world! ${l.head}. Is empty: ${empty(l)}, ");
}